<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>8.2.1 查询字符串参数</title>
</head>
<body>

<script type="text/javascript">

  // 查询字符串参数
  
  // 尽管location.search返回从问号到URL末尾的所有内容，
  // 但却无法逐个访问其中的每个字符串参数，
  // 为此像下面这样创建一个函数，用以解析查询字符串
  function getQueryStringArgs(){
    // 取得查询字符串并去掉开头的问号                       
    var qs = (location.search.length > 0 ? location.search.substring(1) : "");

    // 保存数据的对象
    args = {};

    // 取得每一项
    // 根据&来分割每一项
    items = qs.length ? qs.split("&") : [],
    item = null,
    name = null,
    value = null;

    // 逐个将每一项添加到args对象中
    for(var i =0; i<items.length; i++){
      // 根据等号分割每一项
      item = items[i].split("=");
      // 第一项为参数名
      name = decodeURIComponent(item[0]);
      // 第二项为参数值
      value = decodeURIComponent(item[1]);

      if(name.length){
        // 将name作为args对象的属性，value作为相应属性的值
        args[name] = value;
      }
    }
    return args;
  }

  // 假设查询字符串是?q=javascript&num=10
  var args = getQueryStringArgs();
  alert(args["q"]);  //"javascript"
  alert(args["num"]);  //"10"

</script>
</body>
</html>