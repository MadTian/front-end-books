<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>5.2.1-3 复选框控制表格行高亮</title>
  <style type="text/css">
    table{ border:1px solid #000;border-collapse:collapse;}
    td{ font:normal 12px/17px Arial;padding:2px;width:100px;}
    th{ font:bold 12px/17px Arial;text-align:left;padding:4px;border-bottom:1px solid #333;}
    .even{ background:#FFF38F;}  /* 偶数行样式*/
    .odd{ background:#FFFFEE;}  /* 奇数行样式*/
    .selected{ background:#FF6500;color:#fff;}
  </style>
  <script type="text/javascript" src="../../scripts/jquery-3.2.1.min.js"></script>
  <!-- <script src="../../scripts/jquery.js" type="text/javascript"></script> -->
  <script type="text/javascript">
    $(document).ready(function() {
      $("tbody>tr:odd").addClass("odd");
      $("tbody>tr:even").addClass("even");
      // 当单击某行时，如果已经高亮了，则移除高亮样式并去掉当前行复选框的选中状态；
      // 如果未高亮，则添加高亮样式并将当前行的复选框选中
      // $("tbody>tr").click(function(event) {
      //   if( $(this).hasClass('selected')){
      //     $(this)
      //       .removeClass('selected')
      //       .find('input[type=checkbox]').attr('checked', 'false');
      //   }else{
      //     $(this)
      //       .addClass('selected')
      //       .find('input[type=checkbox]').attr('checked','true');
      //   }
      // });
      $("tbody>tr").click(function(event) {
         // 判断当前是否选中
         var hasSelected=$(this).hasClass('selected');
         // 如果选中，则移除selected，否则加上selected类
         $(this)[hasSelected ? "removeClass" : "addClass"]('selected')
         // 查找内部的checkbox,设置对应的属性。
                .find(':checkbox').attr('checked',!hasSelected);
      });
      
    });
  </script>
</head>
<body>
  <table>
    <thead>
      <tr>
        <th></th>
        <th>姓名</th>
        <th>性别</th>
        <th>暂住地</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>张山</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>李四</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>王五</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>赵六</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>Rain</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
      <tr>
        <td><input type="checkbox" name="choice" value=""/></td>
        <td>MAXMAN</td>
        <td>男</td>
        <td>浙江宁波</td>
      </tr>
    </tbody>
  </table>
</body>
</html>